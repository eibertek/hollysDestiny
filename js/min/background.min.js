
var background=function(a){this.img=null;this.name="";this.id=Math.random().toString(36).substr(2);this.position=new game.canvas.vector(0,0);this.width=0;this.height=0;this.ethereal=true;this.visible=true;this.movable=true;this.velX=0;this.velY=0;this.speed=3;this.self=this;this.floor=false;this.limitWall=false;this.status=null;this.orientation=null;this.objectives=null;this.repeatX=false;this.skyColor="#01FBFB";this.create=function(b){if(typeof(b.image)!="undefined"&&b.image!=null){this.img=b.image}if(typeof(b.position)!="undefined"&&b.position instanceof game.canvas.vector){this.position=b.position}if(typeof(b.width)!="undefined"){this.width=b.width}if(typeof(b.height)!="undefined"){this.height=b.height}if(typeof(b.ethereal)!="undefined"){this.ethereal=b.ethereal}if(typeof(b.movable)!="undefined"){this.movable=b.movable}if(typeof(b.name)!="undefined"){this.name=b.name}if(typeof(b.repeatX)!="undefined"){this.repeatX=b.repeatX}if(typeof(b.skyColor)!="undefined"){this.skyColor=b.skyColor}if(typeof(b.visible)!="undefined"){this.visible=b.visible}else{this.visible=true}if(typeof(b.speed)!="undefined"){this.speed=b.speed}};this.animate=function(b,c){if(this.visible){if(typeof(this.img)!="undefined"&&this.img!=null){game.canvas.drawImage(this.img,this.self.position.x,this.self.position.y,this.width,this.height,{repeatX:this.repeatX})}else{game.canvas.fillRect(this.position,this.height,this.width,{color:this.skyColor,name:name})}}this.movement(c)};this.movement=function(b){if(game.centered>0){this.self.position.x-=this.self.speed}};this.colliding=function(){for(var c=0;c<game.objects.length;c++){if(game.objects[c].ethereal){continue}if(this.self.id!=game.objects[c].id&&!game.objects[c].limitWall){var b=game.colCheck(this.self,game.objects[c]);if(b==="l"||b==="r"){this.self.velX=0}else{if(b==="b"){this.self.grounded=true}else{if(b==="t"){this.self.velY*=-1}}}}}};this.doObjectives=function(){this.objectives()};this.create(a)};