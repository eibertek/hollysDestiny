
var canvasClass=function(a){this.container=document.getElementById("canvas_ppg");this.ctx=null;this.vector=function(b,c){this.x=0;this.y=0;this.__construct=function(d,e){this.x=d;this.y=e};this.__construct(b,c);return this};this.init=function(b){this.container=document.getElementById(b),this.ctx=this.container.getContext("2d");return this};this.drawLine=function(b,d,c){this.ctx.beginPath();if(b instanceof this.vector){this.ctx.moveTo(b.x,b.y);this.ctx.lineTo(d.x,d.y);if(typeof(c)!="undefined"){this.ctx.strokeStyle=c.color}else{this.ctx.strokeStyle="#000"}this.ctx.stroke();this.ctx.closePath()}else{throw new Error("los objetos deben ser vectores")}};this.drawRect=function(c,b,e,d){if(c instanceof this.vector){this.ctx.beginPath();this.ctx.rect(c.x,c.y,e,b);this.ctx.strokeStyle=d.color;this.ctx.stroke();this.ctx.font="10px Arial";this.ctx.strokeText(d.name,c.x,c.y+b+10);this.ctx.closePath()}};this.fillRect=function(c,b,e,d){if(c instanceof this.vector){this.ctx.fillStyle=d.color;this.ctx.fillRect(c.x,c.y,e,b)}};this.drawImage=function(d,c,g,f,b,e){if(d===null||d==""){return false}if(typeof(e.repeatX)!="undefined"){totalwidth=f;this.ctx.drawImage(d,c,g,d.width,b);drawedWidth=d.width;while(totalwidth>0){this.ctx.drawImage(d,drawedWidth-6+c,g,d.width,b);totalwidth-=d.width;drawedWidth+=d.width}}else{this.ctx.drawImage(d,c,g,f,b)}};this.drawSpriteImage=function(b,g,f,k,d,i,e,j,c){if(b===null||b==""){return false}this.ctx.drawImage(b,g,f,k,d,i,e,j,c)};this.drawChar=function(b,d,c){if(b instanceof this.vector){this.ctx.drawImage(d.img,b.x,b.y,d.srcwdth,d.srchght,0,0,d.srcwdth,d.srchght);this.ctx.beginPath();this.ctx.strokeStyle=c.color;this.ctx.stroke();this.ctx.font="10px Arial";this.ctx.strokeText(c.name,b.x,b.y+d.srchght+10);this.ctx.closePath()}};this.drawSprite=function(c,b){if(origin instanceof this.vector){this.ctx.drawImage(c.img,c.srcx,c.srcy,c.srcwdth,c.srchght,c.destX,c.destY,c.destwdth,c.desthght);if(c.text){this.ctx.beginPath();this.ctx.strokeStyle=b.color;this.ctx.stroke();this.ctx.font="10px Arial";this.ctx.strokeText(b.name,origin.x,origin.y+c.srchght+10);this.ctx.closePath()}}};this.drawText=function(c,b){this.ctx.beginPath();this.ctx.strokeStyle="#000";if(typeof(b.font)!="undefined"){this.ctx.font=b.font}else{this.ctx.font="50px Arial"}positionX=this.container.width/2-50;positionY=this.container.height/2;if(typeof(b.color)!="undefined"){this.ctx.fillStyle=b.color}if(typeof(b.x)!="undefined"){positionX=b.x}if(typeof(b.y)!="undefined"){positionY=b.y}this.ctx.fillText(c,positionX,positionY);this.ctx.closePath()};this.setImgOptions=function(g,k,j,b,d,i,h,f,c,e){return{img:g,srcx:k,srcy:j,srcwdth:b,srchght:d,destX:i,destY:h,destwdth:f,desthght:c,text:e}};return this.init(a)};